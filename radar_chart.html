<!DOCTYPE html>
<html>
  <head>
    <title>Radar Chart Example</title>
    <style>
      .radar-chart {
        max-width: 600px;
        margin: 50px auto;
      }
      .axis line,
      .axis path {
        fill: none;
        stroke: #bbb;
        stroke-width: 1px;
      }
      .axis text {
        font-size: 12px;
      }
      .area {
        fill-opacity: 0.5;
      }
    </style>
  </head>
  <body>
    <div class="radar-chart"></div>

    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script>
      const data = [
        { category: 'Category A', value: 8 },
        { category: 'Category B', value: 4 },
        { category: 'Category C', value: 6 },
        { category: 'Category D', value: 7 },
        { category: 'Category E', value: 5 },
      ];

      const width = 400;
      const height = 400;
      const margin = 50;

      const svg = d3
        .select('.radar-chart')
        .append('svg')
        .attr('width', width)
        .attr('height', height);

      const g = svg
        .append('g')
        .attr('transform', `translate(${width / 2}, ${height / 2})`);

      const radius = Math.min(width, height) / 2 - margin;

      const angleScale = d3
        .scaleBand()
        .domain(data.map((d) => d.category))
        .range([0, Math.PI * 2])
        .padding(0.2);

      const radiusScale = d3
        .scaleLinear()
        .domain([0, d3.max(data, (d) => d.value)])
        .range([0, radius]);

      const line = d3
        .lineRadial()
        .angle((d) => angleScale(d.category))
        .radius((d) => radiusScale(d.value))
        .curve(d3.curveLinearClosed);

      g.selectAll('.axis')
        .data(data)
        .join('line')
        .attr('class', 'axis')
        .attr('x1', 0)
        .attr('y1', 0)
        .attr('x2', (d) => radiusScale(d.value) * Math.cos(angleScale(d.category) - Math.PI / 2))
        .attr('y2', (d) => radiusScale(d.value) * Math.sin(angleScale(d.category) - Math.PI / 2))
        .attr('stroke', '#bbb')
        .attr('stroke-width', 1);

      g.append('path')
        .datum(data)
        .attr('class', 'area')
        .attr('d', line)
        .attr('fill', 'skyblue');

      g.selectAll('.label')
        .data(data)
        .join('text')
        .attr('class', 'label')
        .attr('x', (d) => (radiusScale(d.value) + 10) * Math.cos(angleScale(d.category) - Math.PI / 2))
        .attr('y', (d) => (radiusScale(d.value) + 10) * Math.sin(angleScale(d.category) - Math.PI / 2))
        .attr('text-anchor', 'middle')
        .attr('dominant-baseline', 'central')
        .text((d) => d.category);

      g.selectAll('.point')
        .data(data)
        .join('circle')
        .attr('class', 'point')
        .attr('cx', (d) => radiusScale(d.value) * Math.cos(angleScale(d.category) - Math.PI / 2))
        .attr('cy', (d) => radiusScale(d.value) * Math.sin(angleScale(d.category) - Math.PI / 2))
        .attr('r', 4)
        .attr('fill', 'steelblue');
    </script>
  </body>
</html>